(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{956:function(t,e,a){"use strict";a.r(e);var s=a(7),v=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"项目模板共用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目模板共用"}},[t._v("#")]),t._v(" 项目模板共用")]),t._v(" "),a("blockquote",[a("p",[t._v("下面方法是已有仓库， 需要添加模板进行初始化，如果还没有建立仓库，建议使用 "),a("code",[t._v("fork")]),t._v(" 来设置模板，减少 "),a("code",[t._v("git")]),t._v(" 操作。")])]),t._v(" "),a("ol",[a("li",[a("p",[t._v("拉取新建仓库地址")]),t._v(" "),a("p",[t._v("我这里的项目仓库是：\n"),a("img",{attrs:{src:"https://z3.ax1x.com/2021/09/26/46STUJ.png",alt:"46STUJ.png"}})])]),t._v(" "),a("li",[a("p",[t._v("正常拉取空仓库到本地")])])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v(" git clone <git 地址>\n")])])]),a("ol",{attrs:{start:"3"}},[a("li",[t._v("设置模板")])]),t._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/09/26/46SbCR.png",alt:"46SbCR.png"}})]),t._v(" "),a("p",[t._v("如果我们想使用某个模板，作为我们项目仓库的模板，作为项目的初始化。\n这里我使用 "),a("code",[t._v("admin-template")]),t._v(" 的 "),a("code",[t._v("master")]),t._v(" 分支作为我们的模板。")]),t._v(" "),a("ol",{attrs:{start:"4"}},[a("li",[a("p",[t._v("在原仓库中添加模板的远程分支")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("git")]),t._v(" remote "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),t._v(" template "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("git地址"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),a("p",[a("code",[t._v("template")]),t._v(" 是我们模板远程仓库的名字")]),t._v(" "),a("p",[t._v("查看远程分支：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git remote -v\n// origin  <git地址> (fetch)\n// origin  <git地址> (push)\n// template  <git地址> (fetch)\n// template  <git地址> (push)\n\n")])])])]),t._v(" "),a("li",[a("p",[t._v("拉取模板代码")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git fetch template\n")])])])]),t._v(" "),a("li",[a("p",[t._v("新建一个分支，作为开发分支，名字为 "),a("code",[t._v("develop")]),t._v("，切换到该分支")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 设置模板时\ngit checkout -b develop\n\n// 模板更新时\ngit checkout develop\n")])])])]),t._v(" "),a("li",[a("p",[t._v("不同仓库的合并")]),t._v(" "),a("blockquote",[a("p",[t._v("允许不同仓库的合并，这里我允许在 "),a("code",[t._v("develop")]),t._v(" 分支上合并 "),a("code",[t._v("template")]),t._v(" 的 "),a("code",[t._v("master")]),t._v(" 分支，git 不允许不同历史的代码合并。如果指定 "),a("code",[t._v("squash")]),t._v(" 表示压缩原有的历史记录为一个记录，这里需要重新填写新的 "),a("code",[t._v("commit")]),t._v(" 信息。")])]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git merge --squash template/master --allow-unrelated-histories\n")])])])]),t._v(" "),a("li",[a("p",[t._v("解决冲突\n如果这里出现这样的错误提示：\n"),a("img",{attrs:{src:"https://z3.ax1x.com/2021/09/27/4gQra4.png",alt:"4gQra4.png"}}),t._v("\n需要解决冲突后再提交。")])]),t._v(" "),a("li",[a("p",[t._v("提交代码， 因为现在项目有多个远程，在提交和拉取代码时，需要指定远程仓库分支")])])]),t._v(" "),a("p",[t._v("使用 "),a("code",[t._v("yarn")]),t._v(" 安装项目依赖。")]),t._v(" "),a("p",[t._v("推荐使用模板的 "),a("code",[t._v("yarn git:push")]),t._v(" 进行提交，使 "),a("code",[t._v("commit")]),t._v(" 消息模板统一。")]),t._v(" "),a("p",[t._v("我们先可以使用 "),a("code",[t._v("yarn git:push")]),t._v(" 来填写 "),a("code",[t._v("commit")]),t._v(" 信息。完成后推送。")]),t._v(" "),a("p",[t._v("有时会出现这样的错误，表示你的远程没有这个分支")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/09/27/4gQsIJ.png",alt:"4gQsIJ.png"}})]),t._v(" "),a("p",[t._v("这里就可以推送你的远程分支：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("git push origin develop\n")])])]),a("p",[t._v("如果你在远程新建有 develop 分支，那么你可以指定推送的分支。")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("// 只在模板设置时需要\n// develop 指定分支的默认远程为 origin/develop\ngit branch --set-upstream-to=origin/develop develop\n\n")])])]),a("p",[t._v("然后可以正常使用 "),a("code",[t._v("yarn git:push")]),t._v(" 进行提交了。")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://z3.ax1x.com/2021/09/26/46S759.png",alt:""}}),t._v("\nworks！！！")]),t._v(" "),a("ol",{attrs:{start:"10"}},[a("li",[t._v("模板更新 模板更新请重复上述 5-9 步。")])])])}),[],!1,null,null,null);e.default=v.exports}}]);