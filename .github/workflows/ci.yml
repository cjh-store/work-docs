name: GitHub Actions Build and Deploy Demo
# å®šä¹‰è§¦å‘äº‹ä»¶çš„ git hook, å¯ä»¥æ˜¯å•ä¸ª hook åç§°æˆ–å¤šä¸ª
on:
  push:
    # é™å®šåˆ†æ”¯å’Œæ ‡ç­¾
    branches:
      - master  

# è¡¨ç¤ºè¦æ‰§è¡Œçš„ä¸€é¡¹æˆ–å¤šé¡¹ä»»åŠ¡ã€‚      
jobs:
  build-and-deploy:
    # è¿è¡Œæ‰€éœ€è¦çš„è™šæ‹Ÿæœºç¯å¢ƒ
    runs-on: ubuntu-latest
    # æ­¥éª¤
    steps:
      # 1. è·å–æºç ï¼Œ è¿™é‡Œéœ€è¦å°†ä»“åº“ä»£ç æ£€å‡ºåˆ°è™šæ‹Ÿæœºå®ä¾‹ä¸­
    - name: Checkout
      uses: actions/checkout@master

    - name: Install and Build ğŸ”§
          run: |
            yarn
            yarn build

    - name: Deploy 
      uses: JamesIves/github-pages-deploy-action@master
      with:
          # ä¸ºäº†è®© GitHubè§¦å‘é‡æ–°æ„å»ºé¡µé¢ï¼Œæ‚¨å¿…é¡»ä½¿ç”¨å­˜å‚¨åº“æä¾›çš„GitHubä»¤ç‰Œæ¥æä¾›æ“ä½œ, GITHUB_TOKEN æ˜¯ç³»ç»Ÿé»˜è®¤æä¾›çš„  ä¸éœ€è¦å•ç‹¬é…ç½®ç¯å¢ƒå˜é‡
          GITHUB_TOKEN: ${{ secrets.ACCESS_TOKEN }}
          BRANCH: gh-pages 
          FOLDER: dist 
